# YTautoPlaylist

Automatic playlist collector from YouTube subscriptions.

Сбор новых видео на основе подписок ютуба и создания из этих видео плейлиста. Расширение умеет фильтровать список по многим параметрам таким как длительность, теги, назватия, тип видео (трансляция, шортс). Пока настройка фильтров возможна только через код, а ход работы отображается в консоли service worker. 

# ToDo

- [ ] Отрефакторить код, сделать его чище, полезные комментарии, где деактивированные функции не удалять, пока не будут реализованы. Удали дублирующийся код. Я сейчас вижу, что некоторые функции не используются вовсе. Посмотри точно ли весь их функционал где-то реализован, если да, удаляй, или переделывай.
- [ ] Не заправшивать каждый раз id листов для подписок. Они не меняются. Поэтому один раз запросили - закэшировали, запрашиваем только для новых подписок. Подписи запрашивать придётся, но проверять нужно ли делать. Если количество не изменилось, то сразу можно смотреть новые вдиое. И вообще проработать оптимизацию работы со списком каналов, их названиями и листами, чтобы в интерфейс выводить не только id, но иметь возможность выводить название по нему. В дальнейшем будем в интерфейсе делать конструктор фильтров, где для канала надо будет указывать условия фильтрации, а название канала надо будет отображать по человечески и иметь возможность обновить список каналов.
- [x] Довести до ума работу с токеном и авторизацеий, чтобы не было проблем, не ломалось, если нужно зайти на страницу ютуба как-то показывало это, или автоматически открывало, получало авторизацию. Убрать необходимость нажимать кнопку перед сбором, хотя бы минимизровать до действительно необходмости.
- [ ] Доработать все фильтры и страницу фильтрации. Фильтры делать как для канала, так и глобально для списка
  - Канал+длительность
  - наличие в названии
  - канал + тег
  - тег
  - длительность
  - Не шортсы
  - Не трансляция
- [ ] В случае какого-то сбоя работа должна "паузится" и сохраняться для продолжения. В логах должна быть информация что произошло и что будет далее. Если дошли до создания списка, то сохранять то что не добавили, чтобы закончить это в следующий заход. Если зависли на сборе информации, сохранить текущую инфу и продолжить. Это касается случаев, когда автоматически продолжить через несколько минут невозможно, т.е. пауза требует часов и суток, что ждать никто не будет.
- [x] Убрать попап, запускать работу по клику на иконку. Я сейчас всё равно логи смотрю в консоли. Потом будем делать нормально.

## Фичи для полной версии

- [ ] при первом запуске выводить страницу настроек, на которой будет пояснение за работу
- [ ] устанавливать частоту итераций
- [ ] удалять просмотренное из WL
- [ ] добавлять все видео со страницы в смотреть позде (со страницы пользователя, к примеру)
- [ ] всплывающее окно со статусом загрузки
- [ ] Не создавать список воспроизведения, а управлять списками. Собрать список дешево, а вот плейлист - дорого. Плюс плейлисты тратят ресурсы, тупят, лагают. 
  - [ ] Расширением управлять и переключать на следующее видео. 
  - [ ] Удалять просмотренные из списка, но сохранять возможность вернуться назад на 5 видео, т.е. удалять всё что далее последних 5 видео. 
  - [ ] На уровне расширения позволять что-то докинуть в очередь, легко и быстро удалить из очереди. 
  - [ ] Сделать возможность ведения нескольких списков: основной, отложить, и вручную созданные. 
  - [ ] Чтобы можно было самому создавать сколько угодно списков. И чтобы можно было быстро перетащить видео из основного в побочный, бех глюков поменять порядок видео в списке. 
  - [ ] Чтобы в любой момент можно было зайти на страницу и добавить вручную любое видео в список. Или автоматически добавить все, несколько.

## Циклическая работа

- [ ] организовать циклическое еженедельное добавление
- [ ] Если закончилась квота, паузиться на сутки с добавлением и вообще везде, где пауза проихошла выжидать
